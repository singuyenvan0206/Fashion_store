<Window x:Class="WpfApp1.TransactionHistoryWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Lịch Sử Giao Dịch" Height="600" Width="900"
        WindowStartupLocation="CenterOwner">
    <Grid Background="#F5F5F5" Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBlock Text="📜 Lịch Sử Giao Dịch" FontSize="20" FontWeight="Bold" Foreground="#1CB5E0" Margin="0,0,0,10"/>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>

            <!-- Invoices list -->
            <Border Background="White" CornerRadius="8" Padding="8" Margin="0,0,8,0">
                <DataGrid x:Name="InvoicesGrid" AutoGenerateColumns="False" IsReadOnly="True" SelectionMode="Single"
                          SelectionChanged="InvoicesGrid_SelectionChanged">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="#" Binding="{Binding InvoiceId}" Width="60"/>
                        <DataGridTextColumn Header="Ngày" Binding="{Binding CreatedAt}" Width="140"/>
                        <DataGridTextColumn Header="Khách hàng" Binding="{Binding CustomerName}" Width="*"/>
                        <DataGridTextColumn Header="Tổng" Binding="{Binding Total}" Width="120"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>

            <!-- Invoice items -->
            <Border Grid.Column="1" Background="White" CornerRadius="8" Padding="8" Margin="8,0,0,0">
                <StackPanel>
                    <Grid Margin="0,0,0,8">
                        <TextBlock Text="Chi tiết hóa đơn" FontWeight="Bold" VerticalAlignment="Center"/>
                        <Button x:Name="PrintInvoiceButton" Content="🖨️ In Hóa Đơn" Width="120" Height="32" 
                                Background="#FF9800" Foreground="White" FontWeight="SemiBold" 
                                Click="PrintInvoiceButton_Click" HorizontalAlignment="Right"/>
                    </Grid>
                    <DataGrid x:Name="InvoiceItemsGrid" AutoGenerateColumns="False" IsReadOnly="True">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Sản phẩm" Binding="{Binding ProductName}" Width="*"/>
                            <DataGridTextColumn Header="SL" Binding="{Binding Quantity}" Width="60"/>
                            <DataGridTextColumn Header="Đơn giá" Binding="{Binding UnitPrice}" Width="120"/>
                            <DataGridTextColumn Header="Thành tiền" Binding="{Binding LineTotal}" Width="140"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>
